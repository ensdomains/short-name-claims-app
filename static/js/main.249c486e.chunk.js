(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{199:function(e,t,a){"use strict";(function(e){var n,r=a(16),i=a.n(r),o=a(46),c=a(38),l=a(68),s=a(66),u=a(69),m=a(31),d=a(58),h=a(0),p=a.n(h),f=a(140),b=a(210),E=a(110),g=a(383),v=a(211),w=a(7),x=a(60),y=a(200),S=a(201),C=a(43),N=/^([^.]{3,6}\.[^.]+|[^.]{3,6}eth\.[^.]+|[^.]{1,4}\.[^.]{2}|[^.]{1,3}\.[^.]{3}|[^.]{1,2}\.[^.]{4}|[^.]{1}\.[^.]{5})$/,k="https://cloudflare-dns.com/dns-query?ct=application/dns-udpwireformat&dns=";function O(e,t){return j.apply(this,arguments)}function j(){return(j=Object(m.a)(i.a.mark(function e(t,a){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={type:"query",id:Date.now()%65536,flags:x.RECURSION_DESIRED,questions:[{type:t,class:"IN",name:a}],answers:[],authorities:[],additionals:[]},e.next=3,T(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function T(e){return D.apply(this,arguments)}function D(){return(D=Object(m.a)(i.a.mark(function t(a){var n,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(k+Object(x.encode)(a).toString("base64"));case 2:return n=t.sent,t.t0=x.decode,t.t1=e,t.next=7,n.arrayBuffer();case 7:return t.t2=t.sent,t.t3=new t.t1(t.t2),r=(0,t.t0)(t.t3),t.abrupt("return",r);case 11:case"end":return t.stop()}},t)}))).apply(this,arguments)}!function(e){e[e.Initial=1]="Initial",e[e.Loading=2]="Loading",e[e.Loaded=3]="Loaded"}(n||(n={}));var A=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).claimer=void 0,a.handleChange=function(e){a.setState({name:e.target.value,status:n.Initial})},a.handleCheck=function(e){return a.doCheck()},a.doCheck=Object(m.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.claimer){e.next=2;break}return e.abrupt("return");case 2:return a.setState({status:n.Loading}),e.next=5,O("TXT","_ens."+a.state.name);case 5:t=e.sent,a.setState({status:n.Loaded,result:t});case 7:case"end":return e.stop()}},e)})),a.handleClear=function(){var e=Object(m.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({status:n.Initial,name:""});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={name:"",status:n.Initial},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.claimer=new d.ethers.Contract(this.props.address,y.a,this.context.provider);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,r=a.name,i=a.status,o=a.result;return p.a.createElement(E.a,{container:!0,spacing:3},p.a.createElement(E.a,{item:!0,xs:9},p.a.createElement(g.a,{autoFocus:!0,label:"DNS domain",className:t.textField,value:r,onKeyPress:function(t){return"Enter"===t.key&&e.doCheck()},onChange:this.handleChange})),p.a.createElement(E.a,{item:!0,xs:3},p.a.createElement(f.a,{variant:"contained",color:"primary",className:t.button,onClick:this.handleCheck,disabled:!N.test(r)},"Check"),p.a.createElement(f.a,{variant:"contained",color:"default",className:t.button,onClick:this.handleClear},"Clear")),i===n.Loading&&p.a.createElement(E.a,{item:!0,xs:12},p.a.createElement(b.a,{className:t.progress})),i===n.Loaded&&o&&this.claimer&&p.a.createElement(S.a,{name:r,claimer:this.claimer,result:o}))}}]),t}(p.a.Component);A.contextType=C.a,t.a=Object(w.a)(function(e){return Object(v.a)({textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"100%"},button:{margin:e.spacing(1)},progress:{margin:e.spacing(2)}})})(A)}).call(this,a(14).Buffer)},201:function(e,t,a){"use strict";var n=a(16),r=a.n(n),i=a(31),o=a(46),c=a(38),l=a(68),s=a(66),u=a(69),m=a(60),d=a.n(m),h=a(58),p=a(134),f=a(0),b=a.n(f),E=a(140),g=a(210),v=a(382),w=a(381),x=a(138),y=a(85),S=a(139),C=a(385),N=a(109),k=a.n(N),O=a(84),j=a.n(O),T=a(211),D=a(7),A=a(202),I=a(43),R=/^a=(0x[0-9a-fA-F]{40})$/,L=[{re:/^([^.]{3,6})\.[^.]+$/,method:"submitExactClaim"},{re:/^([^.]{3,6})eth\.[^.]+$/,method:"submitPrefixClaim"},{re:/^([^.]{1,4})\.([^.]{2})$/,method:"submitCombinedClaim"},{re:/^([^.]{1,3})\.([^.]{3})$/,method:"submitCombinedClaim"},{re:/^([^.]{1,2})\.([^.]{4})$/,method:"submitCombinedClaim"},{re:/^([^.])\.([^.]{5})$/,method:"submitCombinedClaim"}],$=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).getClaimantAddress=function(){var e=!0,t=!1,n=void 0;try{for(var r,i=a.props.result.answers[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;if("TXT"===o.type){var c=!0,l=!1,s=void 0;try{for(var u,m=o.data[Symbol.iterator]();!(c=(u=m.next()).done);c=!0){var d=u.value.toString().match(R);if(d)return d[1]}}catch(h){l=!0,s=h}finally{try{c||null==m.return||m.return()}finally{if(l)throw s}}}}}catch(h){t=!0,n=h}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}return null},a.fetchClaims=Object(i.a)(r.a.mark(function e(){var t,n,o,c,l,s,u,m,f;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.claimer,o=t.name,e.next=3,n.priceOracle();case 3:return c=e.sent,l=new h.ethers.Contract(c,A.a,a.context.provider),e.next=7,n.REGISTRATION_PERIOD();case 7:return s=e.sent,u=a.getClaimantAddress(),m="0x"+d.a.name.encode(o).toString("hex"),e.next=12,Promise.all(L.map(function(){var e=Object(i.a)(r.a.mark(function e(t){var a,i,c,d,h;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o.match(t.re)){e.next=3;break}return e.abrupt("return",void 0);case 3:return i=a.slice(1).join(""),e.t0=p.bigNumberify,e.next=7,l.price(i,0,s);case 7:return e.t1=e.sent,c=(0,e.t0)(e.t1),e.next=11,n.computeClaimId(i,m,u);case 11:return d=e.sent,e.next=14,n.claims(d);case 14:return h=e.sent,e.abrupt("return",{claimed:i,cost:c,method:t.method,submitted:!Object(p.bigNumberify)(h[2]).isZero()});case 16:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 12:e.t0=function(e){return void 0!==e},f=e.sent.filter(e.t0),a.setState({claims:f});case 15:case"end":return e.stop()}},e)})),a.claimName=function(e){return Object(i.a)(r.a.mark(function t(){var n,i,o,c,l,s,u,m,h;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.context.account();case 2:return n=a.props,i=n.claimer,o=n.name,c=i.connect(a.context.provider.getSigner()),l="0x"+d.a.name.encode(o).toString("hex"),s=a.getClaimantAddress(),u=e.cost.add(e.cost.div(10)),t.next=9,c[e.method](l,s,{value:u});case 9:return m=t.sent,h=m.hash.slice(0,6)+"\u2026"+m.hash.slice(62),a.setState({message:"Transaction "+h+" submitted"}),t.next=14,m.wait();case 14:return a.setState({message:"Transaction "+h+" mined!"}),t.next=17,a.fetchClaims();case 17:case"end":return t.stop()}},t)}))},a.handleClose=function(){a.setState({message:void 0})},a.state={},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(i.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchClaims();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.name,n=t.result,r=t.classes,i=this.state,o=i.claims,c=i.message,l="NOERROR"===n.rcode&&n.answers.length>0,s=!1;return l&&(s=null!=this.getClaimantAddress()),b.a.createElement(b.a.Fragment,null,b.a.createElement(w.a,{component:"ul"},b.a.createElement(x.a,null,l?b.a.createElement(y.a,null,b.a.createElement(k.a,null)):b.a.createElement(y.a,null,b.a.createElement(j.a,null)),b.a.createElement(S.a,{primary:"Text record on _ens."+a,secondary:l?"":"You must publish a TXT record on _ens."+a+", in the format 'a=0x...', specifying the address you want to own the ENS name."})),b.a.createElement(x.a,null,s?b.a.createElement(y.a,null,b.a.createElement(k.a,null)):b.a.createElement(y.a,null,b.a.createElement(j.a,null)),b.a.createElement(S.a,null,"Text record in correct format (`a=0x...`)")),o?"":b.a.createElement(g.a,{className:r.progress}),o&&o.map(function(t){return b.a.createElement(x.a,{key:t.claimed},b.a.createElement(y.a,null,t.submitted?b.a.createElement(k.a,null):b.a.createElement(j.a,null)),b.a.createElement(S.a,null,"Claimed ",t.claimed,".eth for ",h.ethers.utils.formatEther(t.cost)," ETH",t.submitted?"":b.a.createElement(E.a,{variant:"contained",color:"primary",className:r.button,onClick:e.claimName(t),disabled:!s},"Claim")))})),b.a.createElement(C.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:void 0!==c,autoHideDuration:6e3,onClose:this.handleClose,message:c,action:[b.a.createElement(v.a,{key:"close","aria-label":"Close",color:"inherit",onClick:this.handleClose},b.a.createElement(j.a,null))]}))}}]),t}(b.a.Component);$.contextType=I.a,t.a=Object(D.a)(function(e){return Object(T.a)({button:{margin:e.spacing(1)},progress:{margin:e.spacing(2)}})})($)},217:function(e,t,a){e.exports=a(380)},223:function(e,t,a){},233:function(e,t){},239:function(e,t){},241:function(e,t){},275:function(e,t){},378:function(e,t,a){},380:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(15),o=a.n(i),c=a(43);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(223);var l=a(16),s=a.n(l),u=a(31),m=a(46),d=a(38),h=a(68),p=a(66),f=a(69),b=a(108),E=a(210),g=a(435),v=a(434),w=a(426),x=a(86),y=a(211),S=a(7),C=a(106),N=a(199),k=a(205),O=a(428),j=a(429),T=a(433),D=a(432),A=a(430),I=a(431);function R(){var e=Object(k.a)(["\n  {\n    claims(orderBy: name) {\n      id\n      name\n      dnsName\n      owner\n      approved\n      submittedAt\n    }\n  }\n"]);return R=function(){return e},e}var L=Object(O.a)(function(e){return Object(y.a)({root:{width:"100%",marginTop:e.spacing(3),overflowX:"auto"},table:{minWidth:650}})}),$=Object(b.b)(R()),q=function(e){var t=L(),a=e.exploreUrl;return r.a.createElement(C.b,{query:$},function(e){return e.loading?r.a.createElement(E.a,null):e.error?r.a.createElement("div",null,"Error loading list of claims."):r.a.createElement(j.a,{className:t.table},r.a.createElement(A.a,null,r.a.createElement(I.a,null,r.a.createElement(D.a,null,"Name"),r.a.createElement(D.a,null,"DNS Domain"),r.a.createElement(D.a,null,"Submitted"),r.a.createElement(D.a,null,"Account"))),r.a.createElement(T.a,null,e.data.claims.map(function(e){return r.a.createElement(I.a,null,r.a.createElement(D.a,null,e.name,".eth"),r.a.createElement(D.a,null,e.dnsName),r.a.createElement(D.a,null,new Date(1e3*e.submittedAt).toLocaleDateString()),r.a.createElement(D.a,null,r.a.createElement(v.a,{href:a+e.owner},e.owner.slice(0,6)+"\u2026"+e.owner.slice(38))))})))})},H=(a(378),{3:{nameClaimAddress:"0x0b74a518f10d6daf90c0c1aeabec2ffe851ccfa5",graphql:"https://api.thegraph.com/subgraphs/name/ensdomains/shortnameclaims",etherscan:"https://ropsten.etherscan.io/address/"},1558996169577:{nameClaimAddress:"0xe982E462b094850F12AF94d21D470e21bE9D0E9C",etherscan:""}}),P=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this.context.provider.getNetwork();case 3:e.t1=e.sent,e.t2={network:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes,t=this.state.network;if(!t)return r.a.createElement(g.a,{maxWidth:"md"},r.a.createElement("h1",null,"ENS Short Name Claim Tool"),r.a.createElement(E.a,null));var a=t?H[t.chainId]:null;if(!a)return r.a.createElement(g.a,{maxWidth:"md"},r.a.createElement("h1",null,"ENS Short Name Claim Tool"),r.a.createElement(w.a,null,r.a.createElement(x.a,{variant:"h2",component:"h1"},"Network Not Supported"),r.a.createElement(x.a,{variant:"body1"},"The network your browser is connected to is not supported. Please connect to a supported network.")));var n=a.graphql?new b.a({uri:a.graphql}):null;return r.a.createElement(g.a,{maxWidth:"md",className:e.root},r.a.createElement("h1",null,"ENS Short Name Claim Tool"),n&&r.a.createElement(w.a,{className:e.paper},r.a.createElement("h2",{className:e.h2},"Claims"),r.a.createElement(C.a,{client:n},r.a.createElement(q,{address:a.nameClaimAddress,exploreUrl:a.etherscan}))),r.a.createElement(w.a,{className:e.paper},r.a.createElement("h2",{className:e.h2},"Submit a claim"),r.a.createElement(N.a,{address:a.nameClaimAddress})),r.a.createElement(w.a,{className:e.paper},r.a.createElement("h2",{className:e.h2},"About"),r.a.createElement("p",null,r.a.createElement(v.a,{href:"https://ens.domains/"},"ENS")," is making names shorter than 7 characters available for registration in the near future. Before they become generally available for registration, there will be a preregistration period, during which existing DNS domain owners can request ownership of the equivalent ENS domain, followed by an auction. Once both preregistration and auction are completed, names will be opened for general registration."),r.a.createElement("p",null,"This app allows owners of existing DNS domains to participate in the preregistration process. Anyone who owns an existing DNS second-level domain (2LD) may submit a claim. Successful claims will allow the claimant to register the corresponding .eth domain without having to engage in the auction process."),r.a.createElement("p",null,"To qualify, the domain being used to support the claim must meet the following criteria:"),r.a.createElement("ol",null,r.a.createElement("li",null,"Must be a DNS second-level domain (2LD)"),r.a.createElement("li",null,"Must have been registered on or before January 1, 2019."),r.a.createElement("li",null,"Must have DNSSEC enabled, using the algorithm RSASHA256, RSASHA1 or P256SHA256."),r.a.createElement("li",null,"Must have whois information available that includes the domain's initial registration date.")),r.a.createElement("p",null,"The ENS name being claimed must be one of:"),r.a.createElement("ol",null,r.a.createElement("li",null,"An exact match for the existing DNS domain (eg, foo.com -> foo.eth)"),r.a.createElement("li",null,"The DNS domain with the suffix 'eth' removed (eg, asseth.fr -> ass.eth)"),r.a.createElement("li",null,"The concatenation of domain and TLD (eg, foo.com -> foocom.eth)")),r.a.createElement("p",null,"Domains being claimed must be 3-6 characters long."),r.a.createElement("p",null,"Each application must be accompanied by the fee for a year's registration ($5 in ETH for a 5-6 character name, $160 in ETH for a 4 character name, and $640 in ETH for a 3 character name). If an application is successful, the claimant is issued the name with 365 days' registration period (this can be extended as desired). If an application is unsuccessful, the fee will be returned to the claimant."),r.a.createElement("p",null,"In the event that multiple claims are submitted for the same ENS name, the name will be issued to the claimant whose DNS domain was registered the earliest, based on available whois data."),r.a.createElement("p",null,"All claims are decided based on the sole discretion of the ENS team. Decisions are final."),r.a.createElement("h3",null,"Submission Process"),r.a.createElement("ol",null,r.a.createElement("li",null,"Enable DNSSEC on your domain. See your DNS provider or registrar's documentation for guidance. If offered a choice of algorithms, RSASHA256 will offer substantial transaction cost savings over the other two supported algorithms, RSASHA1 and P256SHA256."),r.a.createElement("li",null,"Publish a TXT record on the '_ens' subdomain (eg, _ens.yourdomain.tld). The TXT record must be in the format 'a=0x...'. The address provided in this TXT record is the address of the claimant, who will have control of the domain if the application is successful, and who will receive a refund if it is not."),r.a.createElement("li",null,"Enter your domain name (eg, yourdomain.tld) in the 'Submit a Claim' section on this page and click 'Check'."),r.a.createElement("li",null,"If all the checks pass, choose the name you wish to claim and click 'submit'."),r.a.createElement("li",null,"Approve the transaction request, for a year's registration fee plus gas costs for proving ownership of your domain."))))}}]),t}(r.a.Component);P.contextType=c.a;var B=Object(S.a)(function(e){return Object(y.a)({root:{},paper:{margin:e.spacing(1),marginBottom:e.spacing(3),padding:e.spacing(1)},h2:{marginTop:0}})})(P);o.a.render(r.a.createElement(c.a.Provider,{value:c.b},r.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},43:function(e,t,a){"use strict";a.d(t,"b",function(){return m}),a.d(t,"a",function(){return d});var n=a(16),r=a.n(n),i=a(31),o=a(46),c=a(38),l=a(58),s=a(0),u=a.n(s),m=new(function(){function e(t){Object(o.a)(this,e),this.provider=void 0,this.provider=t}return Object(c.a)(e,[{key:"account",value:function(){var e=Object(i.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ethereum.enable();case 2:if(void 0!==(t=e.sent)&&null!==t){e.next=5;break}return e.abrupt("return",t);case 5:return e.abrupt("return",t[0]);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}]),e}())(new l.ethers.providers.Web3Provider(ethereum)),d=u.a.createContext(m)}},[[217,1,2]]]);
//# sourceMappingURL=main.249c486e.chunk.js.map