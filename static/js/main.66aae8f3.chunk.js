(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{182:function(e,t,n){"use strict";var r=n(23),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(416);var i=n(618),s=n(867),o=n(870),c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.provider=t}return a(e,[{key:"lookup",value:function(){var e,t=(e=r.mark(function e(t,n){var a;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.queryWithProof(t,n);case 2:return a=e.sent,e.abrupt("return",new s(a));case 4:case"end":return e.stop()}},e,this)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,i){try{var s=t[a](i),o=s.value}catch(c){return void n(c)}if(!s.done)return Promise.resolve(o).then(function(e){r("next",e)},function(e){r("throw",e)});e(o)}("next")})});return function(e,n){return t.apply(this,arguments)}}()},{key:"getOracle",value:function(e){return new i(this.provider,e)}}]),e}();e.exports=c},409:function(e,t,n){e.exports=n(955)},415:function(e,t,n){},618:function(e,t,n){"use strict";(function(t){var r=n(23),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,i){try{var s=t[a](i),o=s.value}catch(c){return void n(c)}if(!s.done)return Promise.resolve(o).then(function(e){r("next",e)},function(e){r("throw",e)});e(o)}("next")})}}var o=n(621),c=n(622),u=o.abi,l=n(176),f=n(382),h=n(866);function d(e){return"0x"+l.name.encode(e).toString("hex")}var p=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.provider=t,this.address=n,this.web3=new c(t),this.contract=new this.web3.eth.Contract(u,n)}return a(e,[{key:"knownProof",value:function(){var e=s(r.mark(function e(t){var n,a,i,s,o,c,u,l;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=d(t.name),a=f.toType(t.type),e.next=4,this.contract.methods.rrdata(a,n).call();case 4:return i=e.sent,s=i[0],o=i[1],c=i[2],u=s<=t.inception,l=void 0,t.rrdata&&(l=this.web3.utils.sha3("0x"+t.rrdata.toString("hex"),{encoding:"hex"}).slice(0,42)),e.abrupt("return",new h({inception:s,inserted:o,hash:c,hashToProve:l,validInception:u,matched:u&&c===l}));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"submitProof",value:function(){var e=s(r.mark(function e(t,n,a){var s,o;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.toSubmit(t),n){e.next=7;break}return e.next=4,this.contract.methods.anchors().call();case 4:n=e.sent,e.next=8;break;case 7:n="0x"+n.rrdata.toString("hex");case 8:return o.push(n),e.next=11,(s=this.contract.methods).submitRRSet.apply(s,i(o)).send(a);case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"deleteProof",value:function(){var e=s(r.mark(function e(t,n,a,i,s){var o,c;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.toSubmit(a),c="0x"+i.rrdata.toString("hex"),e.next=4,this.contract.methods.deleteRRSet(f.toType(t),d(n),o[0],o[1],c).send(s);case 4:e.sent;case 5:case"end":return e.stop()}},e,this)}));return function(t,n,r,a,i){return e.apply(this,arguments)}}()},{key:"toProve",value:function(e){return this.web3.utils.sha3(e.rrdata).slice(0,42)}},{key:"getAllProofs",value:function(){var e=s(r.mark(function e(n){var a,i,s,o,c,u;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.proofs,e.next=3,this.getProven(n);case 3:for(i=e.sent,s=[],o=void 0,c=i;c<a.length;c++)s.push(a[c].toConcat());if(0!=i){e.next=13;break}return e.next=10,this.contract.methods.anchors().call();case 10:o=e.sent,e.next=14;break;case 13:o="0x"+a[i-1].rrdata.toString("hex");case 14:return u="0x"+t.concat(s).toString("hex"),e.abrupt("return",[u,o]);case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"submitAll",value:function(){var e=s(r.mark(function e(t,n){var a,s;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAllProofs(t);case 2:return s=e.sent,e.next=5,(a=this.contract.methods).submitRRSets.apply(a,i(s)).send(n);case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"allProven",value:function(){var e=s(r.mark(function e(t){var n;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getProven(t);case 2:return n=e.sent,e.abrupt("return",n==t.proofs.length);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getProven",value:function(){var e=s(r.mark(function e(t){var n,a,s,o;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.found){e.next=2;break}return e.abrupt("return",{error:"dns record not found"});case 2:n=void 0,n=t.proofs.length-1;case 4:if(!(n>=0)){e.next=15;break}return a=Date.now()/1e3-Math.min.apply(Math,i(t.results[n].rrs.map(function(e){return e.ttl}))),s=t.proofs[n],e.next=9,this.knownProof(s);case 9:if(!((o=e.sent).matched&&o.inserted>a)){e.next=12;break}return e.abrupt("break",15);case 12:n--,e.next=4;break;case 15:return e.abrupt("return",n+1);case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();e.exports=p}).call(this,n(5).Buffer)},668:function(e,t){},670:function(e,t){},704:function(e,t){},705:function(e,t){},750:function(e,t){},753:function(e,t){},866:function(e,t,n){"use strict";e.exports=function e(t){var n=t.inception,r=t.inserted,a=t.hash,i=t.hashToProve,s=t.validInception,o=t.matched;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.inception=n,this.inserted=r,this.hash=a,this.hashToProve=i,this.validInception=s,this.matched=o}},867:function(e,t,n){"use strict";(function(t){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(c){a=!0,i=c}finally{try{!r&&o.return&&o.return()}finally{if(a)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var i=n(176),s=n(868),o=n(869);function c(e){var t,n=[e.name,e.ttl,e.class,e.type],r=Object.values(e.data),a=n.concat(r);switch(a.unshift("//"),e.type){case"DNSKEY":case"RRSIG":t="base64";break;case"DS":t="hex"}return a[a.length-1]=a[a.length-1].toString(t),a.join("\t")}function u(e){return e.map(function(e){var n=function(e,n){var r=Object.assign({},n.data,{signature:new t(0)});r.signature=new t(0);var a=i.rrsig.encode(r).slice(2),s=function(e,n){var r=e.map(function(e){var t=Object.assign(e,{name:e.name.toLowerCase(),ttl:n.data.originalTTL});return i.answer.encode(t)}).sort(function(e,t){return e.compare(t)});return t.concat(r)}(e,n);return[a,s]}(e.rrs,e.sig),r=a(n,2),o=r[0],c=r[1],u=e.name;return new s(u,e.rrs[0].type,e.sig.data.signature,e.sig.data.inception,o,c)})}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=void 0,r=void 0,a=void 0,i=void 0;if(n=!1,r=!1,t&&t.length>0){i="0x"+(a=u(t=t))[a.length-1].rrdata.toString("hex");var s=t[t.length-1],c=void 0;s.rrs[0]&&(c=s.rrs[0].type),"NSEC"==c||"NSEC3"==c?r=!0:n=!0}return new o({found:n,nsec:r,results:t,proofs:a,lastProof:i})}return r(e,[{key:"display",value:function(){return this.results.map(function(e){var t=[c(e.sig)];return e.rrs.forEach(function(e){t.push(c(e))}),t})}}]),e}();e.exports=l}).call(this,n(5).Buffer)},868:function(e,t,n){"use strict";(function(t){var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var r=function(){function e(n,r,a,i,s,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=n,this.type=r,this.sig=a,this.inception=i,this.sigwire=s,this.rrdata=o,this.sigwiredata=t.concat([s,o])}return n(e,[{key:"toConcat",value:function(){var e=new t(2),n=new t(2);return e.writeInt16BE(this.sigwiredata.length,0),n.writeInt16BE(this.sig.length,0),t.concat([e,this.sigwiredata,n,this.sig])}},{key:"toSubmit",value:function(){return["0x"+this.sigwiredata.toString("hex"),"0x"+this.sig.toString("hex")]}}]),e}();e.exports=r}).call(this,n(5).Buffer)},869:function(e,t,n){"use strict";e.exports=function e(t){var n=t.found,r=t.nsec,a=t.results,i=t.proofs,s=t.lastProof;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.found=n,this.nsec=r,this.results=a,this.proofs=i,this.lastProof=s}},870:function(e,t,n){"use strict";(function(t){var r=n(23),a=function(){var e=u(r.mark(function e(t,n){var a;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.encode({type:"query",id:1,flags:l.RECURSION_DESIRED,questions:[{type:t,class:"IN",name:n}],additionals:[{type:"OPT",name:".",udpPayloadSize:4096,flags:l.DNSSEC_OK}]}),e.next=3,c(a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),i=function(){var e=u(r.mark(function e(t,n){var i,o,c,u,l,h,d,p,m,v;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t,n);case 2:return i=e.sent,e.next=5,g(i.answers,["RRSIG"]);case 5:if(o=e.sent,c=y(i.answers,n,t),u=void 0,i.authorities.length>0&&(o=x(i.authorities,["NSEC","NSEC3"]),c=g(i.authorities,["NSEC","NSEC3"])),0!=c.length){e.next=11;break}return e.abrupt("return",{found:!1,nsec:!1,results:[]});case 11:l=!0,h=!1,d=void 0,e.prev=14,p=o[Symbol.iterator]();case 16:if(l=(m=p.next()).done){e.next=27;break}return v=m.value,e.next=20,s(v,c);case 20:if(!(u=e.sent)){e.next=24;break}return u.push(new f(n,v,c)),e.abrupt("return",u);case 24:l=!0,e.next=16;break;case 27:e.next=33;break;case 29:e.prev=29,e.t0=e.catch(14),h=!0,d=e.t0;case 33:e.prev=33,e.prev=34,!l&&p.return&&p.return();case 36:if(e.prev=36,!h){e.next=39;break}throw d;case 39:return e.finish(36);case 40:return e.finish(33);case 41:case"end":return e.stop()}},e,this,[[14,29,33,41],[34,,36,40]])}));return function(t,n){return e.apply(this,arguments)}}(),s=function(){var e=u(r.mark(function e(t,n){var a,s,c,u,l,f,h,m,v,b,g,x,y;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.name,s=n[0].type,c=t.data,n[0].data[0],u=[],l=void 0,c.signersName,a!=c.signersName||"DNSKEY"!=s){e.next=11;break}u=n,e.next=17;break;case 11:return e.next=13,i("DNSKEY",c.signersName);case 13:if(l=e.sent){e.next=16;break}throw"No sets found on "+c.signersName;case 16:u=l[l.length-1].rrs;case 17:f=!0,h=!1,m=void 0,e.prev=20,v=u[Symbol.iterator]();case 22:if(f=(b=v.next()).done){e.next=35;break}if(g=b.value,x=d(g),y=p(x),g.data.algorithm==t.data.algorithm&&y==t.data.keyTag&&g.name==t.data.signersName){e.next=28;break}return e.abrupt("continue",32);case 28:if(t.name!=t.data.signersName||"DNSKEY"!=s){e.next=32;break}return e.next=31,o(g);case 31:l=e.sent;case 32:f=!0,e.next=22;break;case 35:e.next=41;break;case 37:e.prev=37,e.t0=e.catch(20),h=!0,m=e.t0;case 41:e.prev=41,e.prev=42,!f&&v.return&&v.return();case 44:if(e.prev=44,!h){e.next=47;break}throw m;case 47:return e.finish(44);case 48:return e.finish(41);case 49:if("undefined"==typeof l){e.next=53;break}return e.abrupt("return",l);case 53:throw"No matching keytag "+t.data.keyTag+" for signer "+t.data.signersName+" with algo "+t.data.algorithm+" and rrs header type "+s;case 54:case"end":return e.stop()}},e,this,[[20,37,41,49],[42,,44,48]])}));return function(t,n){return e.apply(this,arguments)}}(),o=function(){var e=u(r.mark(function e(t){var n,a,s,o;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d(t),a=p(n),!((s=b.filter(function(e){return e.name==t.name&&e.data.algorithm==t.data.algorithm&&e.data.keyTag==a&&m(e,t.name,n,e.data.digestType)}))&&s.length>0)){e.next=5;break}return e.abrupt("return",[]);case 5:return e.next=7,i("DS",t.name);case 7:return(o=e.sent)[o.length-1].rrs.forEach(function(e){if(m(e,t.name,n,e.data.digestType))return o}),e.abrupt("return",o);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=u(r.mark(function e(n){var a,i,s;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(v+n.toString("base64")+"&ts="+Date.now());case 2:if(a=e.sent,i=void 0,"function"!==typeof a.arrayBuffer){e.next=10;break}return e.next=7,a.arrayBuffer();case 7:i=e.sent,e.next=17;break;case 10:if("function"!==typeof a.buffer){e.next=16;break}return e.next=13,a.buffer();case 13:i=e.sent,e.next=17;break;case 16:throw"this environment does not have function to support buffer";case 17:return s=l.decode(t.from(i)),e.abrupt("return",s);case 19:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();function u(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,i){try{var s=t[a](i),o=s.value}catch(c){return void n(c)}if(!s.done)return Promise.resolve(o).then(function(e){r("next",e)},function(e){r("throw",e)});e(o)}("next")})}}n(871).polyfill(),n(872);var l=n(176),f=n(874),h=n(875),d=h.getHeader,p=h.getKeyTag,m=h.checkDigest,v="https://cloudflare-dns.com/dns-query?ct=application/dns-udpwireformat&dns=",b=[{name:".",type:"DS",class:"IN",data:{keyTag:19036,algorithm:8,digestType:2,digest:new t("49AAC11D7B6F6446702E54A1607371607A1A41855200FD2CE1CDDE32F24E8FB5","hex")}},{name:".",type:"DS",class:"IN",data:{keyTag:20326,algorithm:8,digestType:2,digest:new t("E06D44B80B8F1D39A95C0B0D7C65D08458E880409BBC683457104237C7F8EC8D","hex")}},{name:".",type:"DS",class:"IN",data:{keyTag:5647,algorithm:253,digestType:253,digest:new t([])}}];function g(e,t){return e.filter(function(e){return t.includes(e.type)})}function x(e,t){return e.filter(function(e){return"RRSIG"==e.type&&t.includes(e.data.typeCovered)})}function y(e,t,n){return e.filter(function(e){return e.type==n&&e.name==t})}e.exports.queryWithProof=i}).call(this,n(5).Buffer)},874:function(e,t,n){"use strict";e.exports=function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.sig=n,this.rrs=r}},875:function(e,t,n){"use strict";(function(t){var r=n(876),a=n(176),i=n(894);e.exports={getHeader:function(e){return a.dnskey.encode(e.data).slice(2)},getKeyTag:function(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];t+=!0&n?r:r<<8}return t+=t>>16&65535,t&=65535},checkDigest:function(e,n,s,o){var c=void 0;switch(o){case 1:return c=new t(i.arrayBuffer(t.concat([a.name.encode(n),s]))),e.data.digest.equals(c);case 2:return c=r.sha256(t.concat([a.name.encode(n),s])),e.data.digest.equals(c);case 253:return!0;default:throw"DIGEST "+o+" NOT SUPPORTED"}}}}).call(this,n(5).Buffer)},954:function(e,t,n){},955:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(20),s=n.n(i),o=n(23),c=n.n(o),u=n(49),l=n(83),f=n(57),h=n(109),d=new(function(){function e(t){Object(l.a)(this,e),this.provider=void 0,this.provider=t}return Object(f.a)(e,[{key:"account",value:function(){var e=Object(u.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ethereum.enable();case 2:if(void 0!==(t=e.sent)&&null!==t){e.next=5;break}return e.abrupt("return",t);case 5:return e.abrupt("return",t[0]);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}]),e}())(new h.ethers.providers.Web3Provider(ethereum)),p=a.a.createContext(d);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(415);var m=n(125),v=n(123),b=n(124),g=n(995),x=n(1001),y=n(997),w=n(190),k=n(996),E=n(1e3),C=n(1002),S=n(1005),O=n(6),T=n(182),N=n.n(T),P=n(401),j=n(405),D=n(246),I=n.n(D),A=n(247),B=n(999),R=n(989),F=n(991),L=n(993),$=n(994),K=n(1003),_=n(147),q=n.n(_),W=n(127),Y=n.n(W),G=n(402),M=/^a=0x[0-9a-fA-F]{40}$/,H=[{re:/^([^.]{3,6})\.[^.]+$/,method:"submitExactClaim"},{re:/^([^.]{3,6})eth\.[^.]+$/,method:"submitPrefixClaim"},{re:/^([^.]{1,4})\.([^.]{2})$/,method:"submitCombinedClaim"},{re:/^([^.]{1,3})\.([^.]{3})$/,method:"submitCombinedClaim"},{re:/^([^.]{1,2})\.([^.]{4})$/,method:"submitCombinedClaim"},{re:/^([^.])\.([^.]{5})$/,method:"submitCombinedClaim"}],U=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(v.a)(t).call(this,e))).fetchClaims=Object(u.a)(c.a.mark(function e(){var t,r,a,i,s,o,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.claimer,a=t.name,e.next=3,r.priceOracle();case 3:return i=e.sent,s=new h.ethers.Contract(i,G.a,n.context.provider),e.next=7,r.REGISTRATION_PERIOD();case 7:return o=e.sent,e.next=10,Promise.all(H.map(function(){var e=Object(u.a)(c.a.mark(function e(t){var n,i,u,l,f,h;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.match(t.re)){e.next=3;break}return e.abrupt("return",void 0);case 3:return i=n.slice(1).join(""),e.t0=A.bigNumberify,e.next=7,s.price(i,0,o);case 7:return e.t1=e.sent,u=(0,e.t0)(e.t1),l="0x"+I.a.name.encode(a).toString("hex"),e.next=12,r.computeClaimId(i,l);case 12:return f=e.sent,e.next=15,r.claims(f);case 15:return h=e.sent,e.abrupt("return",{claimed:i,cost:u,method:t.method,submitted:!Object(A.bigNumberify)(h[2]).isZero()});case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 10:e.t0=function(e){return void 0!==e},l=e.sent.filter(e.t0),n.setState({claims:l});case 13:case"end":return e.stop()}},e)})),n.claimName=function(e){return Object(u.a)(c.a.mark(function t(){var r,a,i,s,o,u,l,f,h,d,p,m,v,b;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.context.account();case 2:return r=n.props,a=r.claimer,i=r.name,s=r.result,o=new N.a(n.context.provider._web3Provider),t.t0=o,t.next=7,a.oracle();case 7:return t.t1=t.sent,u=t.t0.getOracle.call(t.t0,t.t1),t.next=11,u.getAllProofs(s);case 11:return l=t.sent,f=Object(j.a)(l,2),h=f[0],d=f[1],p="0x"+I.a.name.encode(i).toString("hex"),m=e.cost.add(e.cost.div(10)),t.next=19,a[e.method](p,h,d,{value:m});case 19:return v=t.sent,b=v.hash.slice(0,6)+"\u2026"+v.hash.slice(62),n.setState({message:"Transaction "+b+" submitted"}),t.next=24,v.wait();case 24:return n.setState({message:"Transaction "+b+" mined!"}),t.next=27,n.fetchClaims();case 27:case"end":return t.stop()}},t)}))},n.handleClose=function(){n.setState({message:void 0})},n.state={},n}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchClaims();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,n=t.name,r=t.result,i=t.classes,s=this.state,o=s.claims,c=s.message,u=!1;r.found&&(u=r.results[r.results.length-1].rrs.some(function(e){return"TXT"===e.type&&e.data.some(function(e){return M.test(e)})}));return a.a.createElement(a.a.Fragment,null,a.a.createElement(R.a,{component:"ul"},a.a.createElement(F.a,null,r.found||r.nsec?a.a.createElement(L.a,null,a.a.createElement(q.a,null)):a.a.createElement(L.a,null,a.a.createElement(Y.a,null)),a.a.createElement($.a,{primary:"DNSSEC enabled",secondary:r.found||r.nsec?"":"Your domain must be DNSSEC-enabled, using a supported algorithm. See this page for details."})),a.a.createElement(F.a,null,r.found?a.a.createElement(L.a,null,a.a.createElement(q.a,null)):a.a.createElement(L.a,null,a.a.createElement(Y.a,null)),a.a.createElement($.a,{primary:"Text record on _ens."+n,secondary:r.found?"":"You must publish a TXT record on _ens."+n+", in the format 'a=0x...', specifying the address you want to own the ENS name."})),a.a.createElement(F.a,null,u?a.a.createElement(L.a,null,a.a.createElement(q.a,null)):a.a.createElement(L.a,null,a.a.createElement(Y.a,null)),a.a.createElement($.a,null,"Text record in correct format (`a=0x...`)")),o?"":a.a.createElement(g.a,{className:i.progress}),o&&o.map(function(t){return a.a.createElement(F.a,{key:t.claimed},a.a.createElement(L.a,null,t.submitted?a.a.createElement(q.a,null):a.a.createElement(Y.a,null)),a.a.createElement($.a,null,"Claimed ",t.claimed,".eth for ",h.ethers.utils.formatEther(t.cost)," ETH",t.submitted?"":a.a.createElement(k.a,{variant:"contained",color:"primary",className:i.button,onClick:e.claimName(t),disabled:!r.found},"Claim")))})),a.a.createElement(K.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:void 0!==c,autoHideDuration:6e3,onClose:this.handleClose,message:c,action:[a.a.createElement(B.a,{key:"close","aria-label":"Close",color:"inherit",onClick:this.handleClose},a.a.createElement(Y.a,null))]}))}}]),t}(a.a.Component);U.contextType=p;var X,z=Object(O.a)(function(e){return Object(S.a)({button:{margin:e.spacing(1)},progress:{margin:e.spacing(2)}})})(U),J=/^([^.]{3,6}\.[^.]+|[^.]{3,6}eth\.[^.]+|[^.]{1,4}\.[^.]{2}|[^.]{1,3}\.[^.]{3}|[^.]{1,2}\.[^.]{4}|[^.]{1}\.[^.]{5})$/;!function(e){e[e.Initial=1]="Initial",e[e.Loading=2]="Loading",e[e.Loaded=3]="Loaded"}(X||(X={}));var Z=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(v.a)(t).call(this,e))).prover=void 0,n.claimer=void 0,n.handleChange=function(e){n.setState({name:e.target.value,status:X.Initial})},n.handleCheck=function(e){return n.doCheck()},n.doCheck=Object(u.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.prover&&n.claimer){e.next=2;break}return e.abrupt("return");case 2:return n.setState({status:X.Loading}),e.prev=3,e.next=6,n.prover.lookup("TXT","_ens."+n.state.name);case 6:t=e.sent,n.setState({status:X.Loaded,result:t}),e.next=16;break;case 10:if(e.prev=10,e.t0=e.catch(3),console.log(e.t0),"string"===typeof e.t0&&e.t0.endsWith("NOT SUPPORTED")){e.next=15;break}throw e.t0;case 15:n.setState({status:X.Loaded,result:{found:!1,nsec:!1,results:[],proofs:[]}});case 16:case"end":return e.stop()}},e,null,[[3,10]])})),n.handleClear=function(){var e=Object(u.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({status:X.Initial,name:""});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.state={name:"",status:X.Initial},n}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.prover=new N.a(this.context.provider._web3Provider),this.claimer=new h.ethers.Contract(this.props.address,P.a,this.context.provider.getSigner());case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state,r=n.name,i=n.status,s=n.result;return a.a.createElement(E.a,{container:!0,spacing:3,className:t.root},a.a.createElement(E.a,{item:!0,xs:9},a.a.createElement(C.a,{autoFocus:!0,label:"Name to claim",className:t.textField,value:r,onKeyPress:function(t){return"Enter"===t.key&&e.doCheck()},onChange:this.handleChange})),a.a.createElement(E.a,{item:!0,xs:3},a.a.createElement(k.a,{variant:"contained",color:"primary",className:t.button,onClick:this.handleCheck,disabled:!J.test(r)},"Check"),a.a.createElement(k.a,{variant:"contained",color:"default",className:t.button,onClick:this.handleClear},"Clear")),i===X.Loading&&a.a.createElement(E.a,{item:!0,xs:12},a.a.createElement(g.a,{className:t.progress})),i===X.Loaded&&s&&this.claimer&&a.a.createElement(z,{name:r,claimer:this.claimer,result:s}))}}]),t}(a.a.Component);Z.contextType=p;var Q=Object(O.a)(function(e){return Object(S.a)({textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"100%"},button:{margin:e.spacing(1)},root:{padding:e.spacing(1)},progress:{margin:e.spacing(2)}})})(Z),V=(n(954),{3:{nameClaimAddress:"0xd5be10a138550bd8b53b986af2e45901f377e2bb"},5:{nameClaimAddress:"0x4ef2aadfda4f0e1f54752953f5f90010ac9e6e40"},1558996169577:{nameClaimAddress:"0x6eD79Aa1c71FD7BdBC515EfdA3Bd4e26394435cC"}}),ee=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(v.a)(t).call(this,e))).state={},n}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this.context.provider.getNetwork();case 3:e.t1=e.sent,e.t2={network:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.network,t=e?V[e.chainId]:null;return a.a.createElement(x.a,{maxWidth:"md"},a.a.createElement("h1",null,"ENS Short Name Claim Tool"),!e&&a.a.createElement(g.a,null),e&&!t&&a.a.createElement(y.a,null,a.a.createElement(w.a,{variant:"h2",component:"h1"},"Network Not Supported"),a.a.createElement(w.a,{variant:"body1"},"The network your browser is connected to is not supported. Please connect to a supported network.")),e&&t&&a.a.createElement(y.a,null,a.a.createElement(Q,{address:t.nameClaimAddress})))}}]),t}(a.a.Component);ee.contextType=p;var te=ee;s.a.render(a.a.createElement(p.Provider,{value:d},a.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[409,1,2]]]);
//# sourceMappingURL=main.66aae8f3.chunk.js.map