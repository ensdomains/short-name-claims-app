(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{400:function(e,t,a){e.exports=a(904)},406:function(e,t,a){},681:function(e,t){},683:function(e,t){},717:function(e,t){},718:function(e,t){},902:function(e,t,a){},904:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(22),o=a.n(i),l=a(25),s=a.n(l),c=a(53),u=a(85),m=a(60),d=a(113),h=new(function(){function e(t){Object(u.a)(this,e),this.provider=void 0,this.provider=t}return Object(m.a)(e,[{key:"account",value:function(){var e=Object(c.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ethereum.enable();case 2:if(void 0!==(t=e.sent)&&null!==t){e.next=5;break}return e.abrupt("return",t);case 5:return e.abrupt("return",t[0]);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}]),e}())(new d.ethers.providers.Web3Provider(ethereum)),p=r.a.createContext(h);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(406);var f=a(127),b=a(125),E=a(128),g=a(191),v=a(950),w=a(963),x=a(962),S=a(952),C=a(150),y=a(967),N=a(8),k=a(189),O=a(951),T=a(955),j=a(964),D=a(179),A=a.n(D),I=a(385),P=a(394),L=a(243),$=a.n(L),H=a(244),R=a(954),q=a(944),B=a(946),W=a(948),_=a(949),M=a(965),X=a(149),F=a.n(X),J=a(130),U=a.n(J),Y=a(386),z=/^a=0x[0-9a-fA-F]{40}$/,G=[{re:/^([^.]{3,6})\.[^.]+$/,method:"submitExactClaim"},{re:/^([^.]{3,6})eth\.[^.]+$/,method:"submitPrefixClaim"},{re:/^([^.]{1,4})\.([^.]{2})$/,method:"submitCombinedClaim"},{re:/^([^.]{1,3})\.([^.]{3})$/,method:"submitCombinedClaim"},{re:/^([^.]{1,2})\.([^.]{4})$/,method:"submitCombinedClaim"},{re:/^([^.])\.([^.]{5})$/,method:"submitCombinedClaim"}],K=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).fetchClaims=Object(c.a)(s.a.mark(function e(){var t,n,r,i,o,l,u;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.claimer,r=t.name,e.next=3,n.priceOracle();case 3:return i=e.sent,o=new d.ethers.Contract(i,Y.a,a.context.provider),e.next=7,n.REGISTRATION_PERIOD();case 7:return l=e.sent,e.next=10,Promise.all(G.map(function(){var e=Object(c.a)(s.a.mark(function e(t){var a,i,c,u,m,d;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.match(t.re)){e.next=3;break}return e.abrupt("return",void 0);case 3:return i=a.slice(1).join(""),e.t0=H.bigNumberify,e.next=7,o.price(i,0,l);case 7:return e.t1=e.sent,c=(0,e.t0)(e.t1),u="0x"+$.a.name.encode(r).toString("hex"),e.next=12,n.computeClaimId(i,u);case 12:return m=e.sent,e.next=15,n.claims(m);case 15:return d=e.sent,e.abrupt("return",{claimed:i,cost:c,method:t.method,submitted:!Object(H.bigNumberify)(d[2]).isZero()});case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 10:e.t0=function(e){return void 0!==e},u=e.sent.filter(e.t0),a.setState({claims:u});case 13:case"end":return e.stop()}},e)})),a.claimName=function(e){return Object(c.a)(s.a.mark(function t(){var n,r,i,o,l,c,u,m,d,h,p,f,b,E;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.context.account();case 2:return n=a.props,r=n.claimer,i=n.name,o=n.result,l=new A.a(a.context.provider._web3Provider),t.t0=l,t.next=7,r.oracle();case 7:return t.t1=t.sent,c=t.t0.getOracle.call(t.t0,t.t1),t.next=11,c.getAllProofs(o);case 11:return u=t.sent,m=Object(P.a)(u,2),d=m[0],h=m[1],p="0x"+$.a.name.encode(i).toString("hex"),f=e.cost.add(e.cost.div(10)),t.next=19,r[e.method](p,d,h,{value:f});case 19:return b=t.sent,E=b.hash.slice(0,6)+"\u2026"+b.hash.slice(62),a.setState({message:"Transaction "+E+" submitted"}),t.next=24,b.wait();case 24:return a.setState({message:"Transaction "+E+" mined!"}),t.next=27,a.fetchClaims();case 27:case"end":return t.stop()}},t)}))},a.handleClose=function(){a.setState({message:void 0})},a.state={},a}return Object(E.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchClaims();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.name,n=t.result,i=t.classes,o=this.state,l=o.claims,s=o.message,c=!1;n.found&&(c=n.results[n.results.length-1].rrs.some(function(e){return"TXT"===e.type&&e.data.some(function(e){return z.test(e)})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{component:"ul"},r.a.createElement(B.a,null,n.found||n.nsec?r.a.createElement(W.a,null,r.a.createElement(F.a,null)):r.a.createElement(W.a,null,r.a.createElement(U.a,null)),r.a.createElement(_.a,{primary:"DNSSEC enabled",secondary:n.found||n.nsec?"":"Your domain must be DNSSEC-enabled, using a supported algorithm. See this page for details."})),r.a.createElement(B.a,null,n.found?r.a.createElement(W.a,null,r.a.createElement(F.a,null)):r.a.createElement(W.a,null,r.a.createElement(U.a,null)),r.a.createElement(_.a,{primary:"Text record on _ens."+a,secondary:n.found?"":"You must publish a TXT record on _ens."+a+", in the format 'a=0x...', specifying the address you want to own the ENS name."})),r.a.createElement(B.a,null,c?r.a.createElement(W.a,null,r.a.createElement(F.a,null)):r.a.createElement(W.a,null,r.a.createElement(U.a,null)),r.a.createElement(_.a,null,"Text record in correct format (`a=0x...`)")),l?"":r.a.createElement(v.a,{className:i.progress}),l&&l.map(function(t){return r.a.createElement(B.a,{key:t.claimed},r.a.createElement(W.a,null,t.submitted?r.a.createElement(F.a,null):r.a.createElement(U.a,null)),r.a.createElement(_.a,null,"Claimed ",t.claimed,".eth for ",d.ethers.utils.formatEther(t.cost)," ETH",t.submitted?"":r.a.createElement(O.a,{variant:"contained",color:"primary",className:i.button,onClick:e.claimName(t),disabled:!n.found},"Claim")))})),r.a.createElement(M.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:void 0!==s,autoHideDuration:6e3,onClose:this.handleClose,message:s,action:[r.a.createElement(R.a,{key:"close","aria-label":"Close",color:"inherit",onClick:this.handleClose},r.a.createElement(U.a,null))]}))}}]),t}(r.a.Component);K.contextType=p;var Z,Q=Object(N.a)(function(e){return Object(y.a)({button:{margin:e.spacing(1)},progress:{margin:e.spacing(2)}})})(K),V=/^([^.]{3,6}\.[^.]+|[^.]{3,6}eth\.[^.]+|[^.]{1,4}\.[^.]{2}|[^.]{1,3}\.[^.]{3}|[^.]{1,2}\.[^.]{4}|[^.]{1}\.[^.]{5})$/;!function(e){e[e.Initial=1]="Initial",e[e.Loading=2]="Loading",e[e.Loaded=3]="Loaded"}(Z||(Z={}));var ee=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).prover=void 0,a.claimer=void 0,a.handleChange=function(e){a.setState({name:e.target.value,status:Z.Initial})},a.handleCheck=function(e){return a.doCheck()},a.doCheck=Object(c.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.prover&&a.claimer){e.next=2;break}return e.abrupt("return");case 2:return a.setState({status:Z.Loading}),e.prev=3,e.next=6,a.prover.lookup("TXT","_ens."+a.state.name);case 6:t=e.sent,a.setState({status:Z.Loaded,result:t}),e.next=16;break;case 10:if(e.prev=10,e.t0=e.catch(3),console.log(e.t0),"string"===typeof e.t0&&e.t0.endsWith("NOT SUPPORTED")){e.next=15;break}throw e.t0;case 15:a.setState({status:Z.Loaded,result:{found:!1,nsec:!1,results:[],proofs:[]}});case 16:case"end":return e.stop()}},e,null,[[3,10]])})),a.handleClear=function(){var e=Object(c.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({status:Z.Initial,name:""});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={name:"",status:Z.Initial},a}return Object(E.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.prover=new A.a(this.context.provider._web3Provider),this.claimer=new d.ethers.Contract(this.props.address,I.a,this.context.provider.getSigner());case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.name,i=a.status,o=a.result;return r.a.createElement(T.a,{container:!0,spacing:3},r.a.createElement(T.a,{item:!0,xs:9},r.a.createElement(j.a,{autoFocus:!0,label:"DNS domain",className:t.textField,value:n,onKeyPress:function(t){return"Enter"===t.key&&e.doCheck()},onChange:this.handleChange})),r.a.createElement(T.a,{item:!0,xs:3},r.a.createElement(O.a,{variant:"contained",color:"primary",className:t.button,onClick:this.handleCheck,disabled:!V.test(n)},"Check"),r.a.createElement(O.a,{variant:"contained",color:"default",className:t.button,onClick:this.handleClear},"Clear")),i===Z.Loading&&r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement(v.a,{className:t.progress})),i===Z.Loaded&&o&&this.claimer&&r.a.createElement(Q,{name:n,claimer:this.claimer,result:o}))}}]),t}(r.a.Component);ee.contextType=p;var te=Object(N.a)(function(e){return Object(y.a)({textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"100%"},button:{margin:e.spacing(1)},progress:{margin:e.spacing(2)}})})(ee),ae=a(389),ne=a(956),re=a(957),ie=a(961),oe=a(960),le=a(958),se=a(959);function ce(){var e=Object(ae.a)(["\n  {\n    claims(orderBy: name) {\n      id\n      name\n      dnsName\n      owner\n      approved\n      submittedAt\n    }\n  }\n"]);return ce=function(){return e},e}var ue=Object(ne.a)(function(e){return Object(y.a)({root:{width:"100%",marginTop:e.spacing(3),overflowX:"auto"},table:{minWidth:650}})}),me=Object(g.b)(ce()),de=function(e){var t=ue(),a=e.exploreUrl;return r.a.createElement(k.b,{query:me},function(e){return e.loading?r.a.createElement(v.a,null):e.error?r.a.createElement("div",null,"Error loading list of claims."):r.a.createElement(re.a,{className:t.table},r.a.createElement(le.a,null,r.a.createElement(se.a,null,r.a.createElement(oe.a,null,"Name"),r.a.createElement(oe.a,null,"DNS Domain"),r.a.createElement(oe.a,null,"Submitted"),r.a.createElement(oe.a,null,"Account"))),r.a.createElement(ie.a,null,e.data.claims.map(function(e){return r.a.createElement(se.a,null,r.a.createElement(oe.a,null,e.name,".eth"),r.a.createElement(oe.a,null,e.dnsName),r.a.createElement(oe.a,null,new Date(1e3*e.submittedAt).toLocaleDateString()),r.a.createElement(oe.a,null,r.a.createElement(x.a,{href:a+e.owner},e.owner.slice(0,6)+"\u2026"+e.owner.slice(38))))})))})},he=(a(902),{3:{nameClaimAddress:"0xd5be10a138550bd8b53b986af2e45901f377e2bb",graphql:"https://api.thegraph.com/subgraphs/name/ensdomains/shortnameclaims",etherscan:"https://ropsten.etherscan.io/address/"},5:{nameClaimAddress:"0x4ef2aadfda4f0e1f54752953f5f90010ac9e6e40",etherscan:"https://goerli.etherscan.io/address/"},1558996169577:{nameClaimAddress:"0x6eD79Aa1c71FD7BdBC515EfdA3Bd4e26394435cC",etherscan:""}}),pe=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).state={},a}return Object(E.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this.context.provider.getNetwork();case 3:e.t1=e.sent,e.t2={network:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes,t=this.state.network;if(!t)return r.a.createElement(w.a,{maxWidth:"md"},r.a.createElement("h1",null,"ENS Short Name Claim Tool"),r.a.createElement(v.a,null));var a=t?he[t.chainId]:null;if(!a)return r.a.createElement(w.a,{maxWidth:"md"},r.a.createElement("h1",null,"ENS Short Name Claim Tool"),r.a.createElement(S.a,null,r.a.createElement(C.a,{variant:"h2",component:"h1"},"Network Not Supported"),r.a.createElement(C.a,{variant:"body1"},"The network your browser is connected to is not supported. Please connect to a supported network.")));var n=a.graphql?new g.a({uri:a.graphql}):null;return r.a.createElement(w.a,{maxWidth:"md",className:e.root},r.a.createElement("h1",null,"ENS Short Name Claim Tool"),n&&r.a.createElement(S.a,{className:e.paper},r.a.createElement("h2",{className:e.h2},"Claims"),r.a.createElement(k.a,{client:n},r.a.createElement(de,{address:a.nameClaimAddress,exploreUrl:a.etherscan}))),r.a.createElement(S.a,{className:e.paper},r.a.createElement("h2",{className:e.h2},"Submit a claim"),r.a.createElement(te,{address:a.nameClaimAddress})),r.a.createElement(S.a,{className:e.paper},r.a.createElement("h2",{className:e.h2},"About"),r.a.createElement("p",null,r.a.createElement(x.a,{href:"https://ens.domains/"},"ENS")," is making names shorter than 7 characters available for registration in the near future. Before they become generally available for registration, there will be a preregistration period, during which existing DNS domain owners can request ownership of the equivalent ENS domain, followed by an auction. Once both preregistration and auction are completed, names will be opened for general registration."),r.a.createElement("p",null,"This app allows owners of existing DNS domains to participate in the preregistration process. Anyone who owns an existing DNS second-level domain (2LD) may submit a claim. Successful claims will allow the claimant to register the corresponding .eth domain without having to engage in the auction process."),r.a.createElement("p",null,"To qualify, the domain being used to support the claim must meet the following criteria:"),r.a.createElement("ol",null,r.a.createElement("li",null,"Must be a DNS second-level domain (2LD)"),r.a.createElement("li",null,"Must have been registered on or before January 1, 2019."),r.a.createElement("li",null,"Must have DNSSEC enabled, using the algorithm RSASHA256, RSASHA1 or P256SHA256."),r.a.createElement("li",null,"Must have whois information available that includes the domain's initial registration date.")),r.a.createElement("p",null,"The ENS name being claimed must be one of:"),r.a.createElement("ol",null,r.a.createElement("li",null,"An exact match for the existing DNS domain (eg, foo.com -> foo.eth)"),r.a.createElement("li",null,"The DNS domain with the suffix 'eth' removed (eg, asseth.fr -> ass.eth)"),r.a.createElement("li",null,"The concatenation of domain and TLD (eg, foo.com -> foocom.eth)")),r.a.createElement("p",null,"Domains being claimed must be 3-6 characters long."),r.a.createElement("p",null,"Each application must be accompanied by the fee for a year's registration ($5 in ETH for a 5-6 character name, $160 in ETH for a 4 character name, and $640 in ETH for a 3 character name). If an application is successful, the claimant is issued the name with 365 days' registration period (this can be extended as desired). If an application is unsuccessful, the fee will be returned to the claimant."),r.a.createElement("p",null,"In the event that multiple claims are submitted for the same ENS name, the name will be issued to the claimant whose DNS domain was registered the earliest, based on available whois data."),r.a.createElement("p",null,"All claims are decided based on the sole discretion of the ENS team. Decisions are final."),r.a.createElement("h3",null,"Submission Process"),r.a.createElement("ol",null,r.a.createElement("li",null,"Enable DNSSEC on your domain. See your DNS provider or registrar's documentation for guidance. If offered a choice of algorithms, RSASHA256 will offer substantial transaction cost savings over the other two supported algorithms, RSASHA1 and P256SHA256."),r.a.createElement("li",null,"Publish a TXT record on the '_ens' subdomain (eg, _ens.yourdomain.tld). The TXT record must be in the format 'a=0x...'. The address provided in this TXT record is the address of the claimant, who will have control of the domain if the application is successful, and who will receive a refund if it is not."),r.a.createElement("li",null,"Enter your domain name (eg, yourdomain.tld) in the 'Submit a Claim' section on this page and click 'Check'."),r.a.createElement("li",null,"If all the checks pass, choose the name you wish to claim and click 'submit'."),r.a.createElement("li",null,"Approve the transaction request, for a year's registration fee plus gas costs for proving ownership of your domain."))))}}]),t}(r.a.Component);pe.contextType=p;var fe=Object(N.a)(function(e){return Object(y.a)({root:{},paper:{margin:e.spacing(1),marginBottom:e.spacing(3),padding:e.spacing(1)},h2:{marginTop:0}})})(pe);o.a.render(r.a.createElement(p.Provider,{value:h},r.a.createElement(fe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[400,1,2]]]);
//# sourceMappingURL=main.cefafb61.chunk.js.map